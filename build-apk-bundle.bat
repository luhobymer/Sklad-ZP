@echo off
echo u041fu043eu0447u0430u0442u043eu043a u0437u0431u0456u0440u043au0438 APK u0444u0430u0439u043bu0443 u0434u043bu044f u0421u043au043bu0430u0434 u0410u0432u0442u043eu0437u0430u043fu0447u0430u0441u0442u0438u043d

:: u0412u0441u0442u0430u043du043eu0432u043bu044eu0454u043cu043e u0437u043cu0456u043du043du0456 u0441u0435u0440u0435u0434u043eu0432u0438u0449u0430
set MYAPP_RELEASE_STORE_PASSWORD=skladapp123
set MYAPP_RELEASE_KEY_PASSWORD=skladapp123
set NODE_ENV=production

:: u0421u0442u0432u043eu0440u044eu0454u043cu043e u0434u0438u0440u0435u043au0442u043eu0440u0456u044e u0434u043bu044f u0431u0430u043du0434u043bu0430
echo u0421u0442u0432u043eu0440u0435u043du043du044f u0434u0438u0440u0435u043au0442u043eu0440u0456u0457 u0434u043bu044f u0431u0430u043du0434u043bu0430...
mkdir -p android\app\src\main\assets

:: u0421u0442u0432u043eu0440u044eu0454u043cu043e JavaScript u0431u0430u043du0434u043b
echo u0421u0442u0432u043eu0440u0435u043du043du044f JavaScript u0431u0430u043du0434u043bu0430...
call npx react-native bundle --platform android --dev false --entry-file index.ts --bundle-output android/app/src/main/assets/index.android.bundle --assets-dest android/app/src/main/res

:: u0417u0431u0438u0440u0430u0454u043cu043e APK u0447u0435u0440u0435u0437 Gradle
echo u0417u0431u0456u0440u043au0430 APK u0444u0430u0439u043bu0443...
cd android
call ./gradlew assembleRelease

echo.
echo APK u0444u0430u0439u043b u0441u0442u0432u043eu0440u0435u043du043e u0432 u0434u0438u0440u0435u043au0442u043eu0440u0456u0457:
echo %cd%\app\build\outputs\apk\release\app-release.apk
echo.

pause
